# DISC4BoTs
Airsim-based drones flying simulations for different scenarios, including malicious behaviours

## Getting Started
First of all, make sure you have downloaded [Airsim](https://github.com/microsoft/AirSim), you got Unreal engine on your computer, and the [Blocks Enviroment](https://microsoft.github.io/AirSim/unreal_blocks/) is set up.

Open the Blocks enviroment. It should look like this:

![sc1](https://user-images.githubusercontent.com/60989064/107655204-029d0c00-6c8c-11eb-8929-e678b6461758.png)

It is recommended to remove all objects to avoid collisions.

The current Play Mode is Selected Viewport. Change it to Simulate:
Click expand toolbar -> Active Play Mode -> Simulate
It is recommended to change the Perspective field to Top (click Perspective -> top).

![](https://im5.ezgif.com/tmp/ezgif-5-409bc1e4e73e.gif)

Now, the project can be run. Choose the Scenario you want to run. You can change its configuration file before running if it is desirable.
First, start playing the simulation by clicking: Click to expand toolbar -> Play. (If an error saying "There were no compatible vehicles created for current SimMode! Check your settings.json." pops, you can ignore it).
After doing so, run the main file of the scenario.

When the simulation ends, the generated data file should be located (if not configurated differently) in the data folder. 

## Project Organization

    ├── README.md          <- The top-level README for developers using this project.
    ├── AirSim
    |   └── settings.json          <- Simulation settings file
    |
    ├── DISC4BoTs
        |
        ├── avoidance          <- Avoidance scenario folder - drones are moving towards a goal 
        |                          while avoiding obstacles in their way          
        │   └── config.ini          <- Configuration file
        │   ├── avoidance.py          <- Avoidance scenario class, including the regular and malicious behaviour patterns
        │   └── avoidance_main.py          <- Avoidance main and monitor functions, used to run this scenario
        │
        ├── data             <- Where the recorded data of the scenario is saved
        │
        ├── followpath          <- Followpath scenario folder - drones are moving in a shared, random path
        │   └── config.ini          <- Configuration file
        │   ├── followpath.py          <- Followpath scenario class, including the regular and malicious behaviour patterns
        │   └── followpath_main.py          <- Followpath main and monitor functions, used to run this scenario
        |
        ├── PythonClient              <- Airsim's client folder. Necessarry for the project
        |
        ├── simple          <- Simple scenario folder - drones are moving towards a point
        │   └── config.ini          <- Configuration file
        │   ├── simple.py          <- Simple scenario class, including the regular and malicious behaviour patterns
        │   └── simple_main.py          <- Simple main and monitor functions, used to run this scenario
        |
        ├── survey         <- Survey scenario folder - drones are scanning an area.
        |                     Each drone got its own path
        │   └── config.ini          <- Configuration file
        │   ├── survey.py          <- Survey scenario class, including the regular and malicious behaviour patterns
        │   └── survey_main.py          <- Survey main and monitor functions, used to run this scenario
        |
        ├── data_testing.py         <- Script that tests and fixes the recorded data after it was generated by the scenario script
        ├── RepeatedTimer      <- Helper class used for generating the data
        └── scenario.py            <- Abstract class of a general scenario
    
 ## Examples
 These are examples for run simulations for each of the different scenarios (x5 speed). The black lines represent a regular drones' route, while the red lines represent a malicious drone's route.
 
 Anomaly Types can be configured in the config file. The types are:
 #### shift
    When shift anomaly type is activated, one of the drones will start moving towards a random very far away point, causing it to move on a straight line.
 #### Random
    When random anomaly type is activated, one of the drones will start moving towards a point which is randomaly re-chosen few times a second.
 #### path
    When path anomaly type is activated, one of the drones will start moving on a random path, from one point to another.
 
 "none" anomaly type can be chosen. If so, no anomaly will be activated.
 
 ### Avoindance
 Example of how to run the simulation + shift anomaly:
 ![](https://im7.ezgif.com/tmp/ezgif-7-a25503a4ec45.gif)
 
 Random anomaly:
 ![](https://im7.ezgif.com/tmp/ezgif-7-a25503a4ec45.gif)
 
 Path anomaly:
 ![](https://im7.ezgif.com/tmp/ezgif-7-49f67c0dbedd.gif)
 
 
 ### Followpath
 Shift anomaly:
![](https://im7.ezgif.com/tmp/ezgif-7-a798c6d74d4a.gif)

 Random anomaly:
![](https://im7.ezgif.com/tmp/ezgif-7-d56221170405.gif)
 
 Path anoamly:
![](https://im7.ezgif.com/tmp/ezgif-7-af88bc039872.gif)
 
 
 ### Simple
 Shift anomaly:
 
 Random anomaly:
 
 Path anoamly:
 
 
 ### Survey
 Shift anomaly:
 
 Random anomaly:
 
 Path anoamly:
 
